{"remainingRequest":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\尚硅谷\\uniapp_storage\\tea_backend\\src\\components\\index.vue?vue&type=style&index=0&id=47323bf2&scoped=true&lang=css&","dependencies":[{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\src\\components\\index.vue","mtime":1671284644911},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\css-loader\\index.js","mtime":1667713499694},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1667713514183},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\postcss-loader\\src\\index.js","mtime":1667713515690},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1667713506232},{"path":"D:\\尚硅谷\\uniapp_storage\\tea_backend\\node_modules\\vue-loader\\lib\\index.js","mtime":1667713514172}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '../styles/index.css';\n@import '../styles/common.css'\n\n.body {\n\tmin-width: 1366px;\n}\n\n.app-main {\n\theight: calc(100% - 64px);\n}\n\n.app-main .divTmp {\n\twidth: 100%;\n\theight: 100%;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkQA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"app\" id=\"app\">\r\n\t\t<div class=\"app-wrapper openSidebar clearfix\">\r\n\t\t\t<!-- sidebar -->\r\n\t\t\t<div class=\"sidebar-container\">\r\n\t\t\t\t<div class=\"logo\">\r\n\t\t\t\t\t<!-- <img src=\"images/logo.png\" width=\"122.5\" alt=\"\" /> -->\r\n\t\t\t\t\t<img src=\"../assets/login/logo.png\" alt=\"\" style=\"width: 117px; height: 32px\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<el-scrollbar wrap-class=\"scrollbar-wrapper\">\r\n\t\t\t\t\t<el-menu :unique-opened=\"false\" :collapse-transition=\"false\" background-color=\"#343744\"\r\n\t\t\t\t\t\ttext-color=\"#bfcbd9\" active-text-color=\"#f4f4f5\">\r\n\t\t\t\t\t\t<div v-for=\"item in menuList\" :key=\"item.id\">\r\n\r\n\t\t\t\t\t\t\t<el-submenu :index=\"item.id\" v-if=\"item.children && item.children.length>0\">\r\n\t\t\t\t\t\t\t\t<template slot=\"title\">\r\n\t\t\t\t\t\t\t\t\t<i :class=\"item.icon\"></i>\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<el-menu-item v-for=\"sub in item.children\" :index=\"sub.id\" :key=\"sub.id\"\r\n\t\t\t\t\t\t\t\t\t@click=\"menuHandle(sub,false)\">\r\n\t\t\t\t\t\t\t\t\t<i :class=\"sub.icon\"></i>\r\n\t\t\t\t\t\t\t\t\t<span slot=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t{{sub.name}}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</el-menu-item>\r\n\t\t\t\t\t\t\t</el-submenu>\r\n\t\t\t\t\t\t\t<el-menu-item v-else :index=\"item.id\" @click=\"menuHandle(item,false)\">\r\n\t\t\t\t\t\t\t\t<!-- <i class=\"iconfont\" :class=\"item.icon\"></i> -->\r\n\t\t\t\t\t\t\t\t<i class=\"el-icon-location\"></i>\r\n\t\t\t\t\t\t\t\t<span slot=\"title\">{{item.name}}</span>\r\n\t\t\t\t\t\t\t</el-menu-item>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</el-menu>\r\n\r\n\t\t\t\t</el-scrollbar>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"main-container\">\r\n\t\t\t\t<!-- <navbar /> -->\r\n\t\t\t\t<div class=\"navbar\">\r\n\t\t\t\t\t<div class=\"head-lable\" style=\"display: flex;\">\r\n\t\t\t\t\t\t<span v-if=\"goBackFlag\" class=\"goBack\" @click=\"goBack()\"><img\r\n\t\t\t\t\t\t\t\tsrc=\"../assets/icon/btn_back@2x.png\" alt=\"\" /> 返回</span>\r\n\t\t\t\t\t\t<span>{{headTitle}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"right-menu\">\r\n\t\t\t\t\t\t<div class=\"avatar-wrapper\">{{ userInfo.data.name }}</div>\r\n\t\t\t\t\t\t<!-- <div class=\"logout\" @click=\"logout\">退出</div> -->\r\n\t\t\t\t\t\t<img src=\"../assets/icon/btn_close@2x.png\" class=\"outLogin\" alt=\"退出\" @click=\"logout\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"app-main\" v-loading=\"loading\">\r\n\t\t\t\t\t<div class=\"divTmp\" v-show=\"loading\"></div>\r\n\t\t\t\t\t<router-view></router-view>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tlogoutApi\r\n\t} from '../api/login.js'\r\n\r\n\texport default {\r\n\t\tname: 'index',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpath: \"ws://localhost:8080/webSocket\",\r\n\t\t\t\tsocket: \"\",\r\n\t\t\t\tdefAct: '/member/index',\r\n\t\t\t\tmenuActived: '2',\r\n\t\t\t\tuserInfo: {},\r\n\t\t\t\tmenuList: [{\r\n\t\t\t\t\t\tid: '1',\r\n\t\t\t\t\t\tname: '门店管理',\r\n\t\t\t\t\t\ticon: 'el-icon-location',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\t\tid: '2',\r\n\t\t\t\t\t\t\t\tname: '员工管理',\r\n\t\t\t\t\t\t\t\tpath: '/member/index',\r\n\t\t\t\t\t\t\t\ticon: 'el-icon-user-solid'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: '3',\r\n\t\t\t\t\t\t\t\tname: '分类管理',\r\n\t\t\t\t\t\t\t\tpath: '/category/list',\r\n\t\t\t\t\t\t\t\ticon: 'el-icon-menu'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: '4',\r\n\t\t\t\t\t\t\t\tname: '菜品管理',\r\n\t\t\t\t\t\t\t\tpath: '/food/list',\r\n\t\t\t\t\t\t\t\ticon: 'el-icon-tableware'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tid: '5',\r\n\t\t\t\t\t\t\t\tname: '套餐管理',\r\n\t\t\t\t\t\t\t\tpath: '/combo/list',\r\n\t\t\t\t\t\t\t\ticon: 'el-icon-fork-spoon'\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: '6',\r\n\t\t\t\t\t\tname: '订单明细',\r\n\t\t\t\t\t\tpath: '/order/list',\r\n\t\t\t\t\t\ticon: 'el-icon-goods',\r\n\t\t\t\t\t\tchildren: [{\r\n\t\t\t\t\t\t\tid: '15',\r\n\t\t\t\t\t\t\tname: '外卖订单',\r\n\t\t\t\t\t\t\tpath: '/order/takeout',\r\n\t\t\t\t\t\t\ticon: 'el-icon-shopping-cart-2'\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tid: '22',\r\n\t\t\t\t\t\t\tname: '自取订单',\r\n\t\t\t\t\t\t\tpath: '/order/list',\r\n\t\t\t\t\t\t\ticon: 'el-icon-s-order'\r\n\t\t\t\t\t\t}, ]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//   ],\r\n\t\t\t\t\t// },\r\n\t\t\t\t],\r\n\t\t\t\tiframeUrl: '/member/index',\r\n\t\t\t\theadTitle: '员工管理',\r\n\t\t\t\tgoBackFlag: false,\r\n\t\t\t\tloading: true,\r\n\t\t\t\ttimer: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tcreated() {\r\n\r\n\t\t\tconst userInfo = window.localStorage.getItem('userInfo')\r\n\r\n\t\t\tif (userInfo) {\r\n\t\t\t\tthis.userInfo = JSON.parse(userInfo)\r\n\r\n\t\t\t}\r\n\t\t\t// console.log(this.userInfo)\r\n\t\t\tthis.closeLoading()\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.timer = null\r\n\t\t\tclearTimeout(this.timer)\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\twindow.menuHandle = this.menuHandle\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlogout() {\r\n\t\t\t\tlogoutApi().then((res) => {\r\n\t\t\t\t\tif (res.data.code === 1) {\r\n\t\t\t\t\t\tlocalStorage.removeItem('userInfo')\r\n\t\t\t\t\t\tthis.$router.push('/login')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoBack() {\r\n\t\t\t\t// window.location.href = 'javascript:history.go(-1)'\r\n\t\t\t\tconsole.log(this.menuActived)\r\n\t\t\t\tvar menu = {}\r\n\t\t\t\tif (this.menuActived < 6) {\r\n\t\t\t\t\t// console.log(\"你是天才\")\r\n\t\t\t\t\t//  console.log(this.menuList[0])\r\n\t\t\t\t\tmenu = this.menuList[0].children.find(item => item.id === this.menuActived);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// console.log(\"你是天天才\")\r\n\t\t\t\t\t// console.log(this.menuList[1])\r\n\t\t\t\t\tmenu = this.menuList[1].children.find(item => item.id === this.menuActived);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(menu)\r\n\t\t\t\t// this.goBackFlag = false\r\n\t\t\t\t// this.headTitle = menu.name\r\n\t\t\t\tthis.menuHandle(menu, false)\r\n\t\t\t},\r\n\t\t\tmenuHandle(item, goBackFlag) {\r\n\t\t\t\t// console.log(item)\r\n\t\t\t\t// console.log(\"天才\")\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\t// this.menuActived = item.id\r\n\t\t\t\t// console.log(item.path)\r\n\t\t\t\tthis.$router.push(item.path)\r\n\t\t\t\tthis.headTitle = item.name\r\n\t\t\t\tthis.goBackFlag = goBackFlag\r\n\t\t\t\tthis.closeLoading()\r\n\t\t\t},\r\n\t\t\tcloseLoading() {\r\n\t\t\t\tthis.timer = null\r\n\t\t\t\tthis.timer = setTimeout(() => {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t// websocket测试\r\n\t\t\tinit: function() {\r\n\r\n\t\t\t\tconsole.log(this.path)\r\n\t\t\t\tif (typeof(WebSocket) === \"undefined\") {\r\n\t\t\t\t\talert(\"您的浏览器不支持socket\")\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 实例化socket\r\n\t\t\t\t\tthis.socket = new WebSocket(this.path)\r\n\t\t\t\t\t// 监听socket连接\r\n\t\t\t\t\tthis.socket.onopen = this.open\r\n\t\t\t\t\t// 监听socket错误信息\r\n\t\t\t\t\tthis.socket.onerror = this.error\r\n\t\t\t\t\t// 监听socket消息\r\n\t\t\t\t\tthis.socket.onmessage = this.getMessage\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\topen: function() {\r\n\t\t\t\tconsole.log(\"socket连接成功\")\r\n\t\t\t},\r\n\t\t\terror: function() {\r\n\t\t\t\tconsole.log(\"连接错误\")\r\n\t\t\t},\r\n\t\t\tgetMessage: function(msg) {\r\n\t\t\t\tconsole.log(msg.data)\r\n\t\t\t\tvar audio = new Audio();\r\n\t\t\t\taudio.src = \"http://localhost:8080/music/welcome.mp3\"\r\n\t\t\t\taudio.play()\r\n\r\n\t\t\t\tthis.$notify.info({\r\n\t\t\t\t\ttitle: '提醒',\r\n\t\t\t\t\tmessage: '您有一条新订单请及时处理',\r\n\t\t\t\t\t type: 'warning'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsend: function() {\r\n\t\t\t\tlet code = 4\r\n\t\t\t\tthis.socket.send(code)\r\n\t\t\t},\r\n\t\t\tclose: function() {\r\n\t\t\t\tconsole.log(\"socket已经关闭\")\r\n\t\t\t},\r\n\t\t\tdestroyed() {\r\n\t\t\t\t// 销毁监听\r\n\t\t\t\tthis.socket.onclose = this.close\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\t@import '../styles/index.css';\r\n\t@import '../styles/common.css'\r\n\r\n\t.body {\r\n\t\tmin-width: 1366px;\r\n\t}\r\n\r\n\t.app-main {\r\n\t\theight: calc(100% - 64px);\r\n\t}\r\n\r\n\t.app-main .divTmp {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n</style>\n"]}]}